/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java project to get you started.
 * For more details take a look at the Java Quickstart chapter in the Gradle
 * User Manual available at https://docs.gradle.org/5.4.1/userguide/tutorial_java_projects.html
 */

plugins {
    // Apply the java plugin to add support for Java
    id 'java'

    // Apply the application plugin to add support for building an application
    id 'application'

    id 'com.github.johnrengelman.shadow' version '5.1.0'
}

apply plugin: 'jacoco'

repositories {
    // Use jcenter for resolving your dependencies.
    // You can declare any Maven/Ivy/file repository here.
    maven {
        url 'https://oss.sonatype.org/content/repositories/snapshots'
    }
    jcenter()
    mavenCentral()

//    maven {
//        url 'https://soot-build.cs.uni-paderborn.de/nexus/repository/soot-release/'
//    }
}

dependencies {

    // TODO: should use maven repositories instead; however, at the moment they're not available
    implementation 'net.sf.trove4j:trove4j:3.0.3'

    compile fileTree(dir: 'lib', include: '*.jar')

//    implementation 'de.tud.sse:soot-infoflow:2.8'
//    implementation 'de.tud.sse:soot-infoflow-android:2.8'
//    implementation 'de.tud.sse:soot-infoflow-cmd:2.8'
//    implementation 'de.tud.sse:soot-infoflow-summaries:2.8'
    implementation 'com.googlecode.json-simple:json-simple:1.1.1'
    implementation 'org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.10'
    implementation 'org.soot-oss:soot:4.3.0'
    //implementation ('org.slf4j:slf4j-nop:1.7.32')
    implementation 'org.graphstream:gs-core:2.0'
    implementation 'org.graphstream:gs-ui:1.3'
    implementation 'com.googlecode.json-simple:json-simple:1.1.1'
    implementation('log4j:log4j:1.2.17') {
        exclude group: 'javax.jms', module: 'jms'
        exclude group: 'com.sun.jdmk', module: 'jmxtools'
        exclude group: 'com.sun.jmx', module: 'jmxri'
    }
    
    // This dependency is found on compile classpath of this component and consumers.
    implementation 'com.google.guava:guava:31.1-jre'

    // Use JUnit test framework
    testImplementation 'junit:junit:4.13.2'
    // create the jar file for it
    shadow 'com.github.jengelman.gradle.plugins:shadow:5.1.0'
}


// Specify the main class for the application using the 'mainClassName' property
application {
    mainClassName = 'dev.maryam.ReachabilityAnalysis.ReachabilityAnalysisMain'
}

jar {
    manifest {
        attributes 'Main-Class': 'dev.maryam.ReachabilityAnalysis.ReachabilityAnalysisMain'
    }
}

shadowJar {
    mergeServiceFiles()
}
